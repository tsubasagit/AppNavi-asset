{
  "id": 2,
  "templateId": "google-calendar-group",
  "version": "1.0.0",
  "name": "Googleカレンダーのグループ化",
  "description": "複数のGoogleカレンダーを統合し、グループ別に管理・表示",
  "templateUrl": "/api/templates/google-calendar-group/apply.json",
  "schemaUrl": "/api/templates/google-calendar-group/schema.json",
  "viewsUrl": "/api/templates/google-calendar-group/views.json",
  "sampleDataUrl": "/api/templates/google-calendar-group/sample-data.json",
  "spreadsheetUrl": "/api/templates/google-calendar-group/spreadsheet",
  "tables": [
    {
      "name": "calendar_groups",
      "label": "カレンダーグループ",
      "fields": [
        {
          "name": "id",
          "label": "グループID",
          "type": "string",
          "required": true,
          "primaryKey": true,
          "autoGenerate": true,
          "description": "一意の識別子（自動生成推奨）"
        },
        {
          "name": "name",
          "label": "グループ名",
          "type": "string",
          "required": true,
          "description": "カレンダーグループの名前（例: 営業チーム）",
          "searchable": true
        },
        {
          "name": "description",
          "label": "説明",
          "type": "text",
          "required": false,
          "description": "グループの説明"
        },
        {
          "name": "color",
          "label": "色",
          "type": "select",
          "required": false,
          "description": "グループの表示色",
          "options": ["#3b82f6", "#8b5cf6", "#f59e0b", "#10b981", "#ef4444", "#6366f1"],
          "defaultValue": "#3b82f6"
        },
        {
          "name": "isActive",
          "label": "有効",
          "type": "boolean",
          "required": true,
          "description": "グループが有効かどうか",
          "defaultValue": true
        },
        {
          "name": "createdAt",
          "label": "作成日時",
          "type": "timestamp",
          "required": true,
          "autoGenerate": true
        },
        {
          "name": "updatedAt",
          "label": "更新日時",
          "type": "timestamp",
          "required": true,
          "autoGenerate": true
        }
      ]
    },
    {
      "name": "calendars",
      "label": "カレンダー",
      "fields": [
        {
          "name": "id",
          "label": "カレンダーID",
          "type": "string",
          "required": true,
          "primaryKey": true,
          "autoGenerate": true,
          "description": "一意の識別子（自動生成推奨）"
        },
        {
          "name": "groupId",
          "label": "グループID",
          "type": "string",
          "required": true,
          "description": "カレンダーグループのID",
          "foreignKey": {
            "table": "calendar_groups",
            "field": "id"
          }
        },
        {
          "name": "name",
          "label": "カレンダー名",
          "type": "string",
          "required": true,
          "description": "Googleカレンダーの名前",
          "searchable": true
        },
        {
          "name": "googleCalendarId",
          "label": "GoogleカレンダーID",
          "type": "string",
          "required": false,
          "description": "GoogleカレンダーのID（連携時）"
        },
        {
          "name": "isActive",
          "label": "有効",
          "type": "boolean",
          "required": true,
          "description": "カレンダーが有効かどうか",
          "defaultValue": true
        },
        {
          "name": "lastSyncAt",
          "label": "最終同期日時",
          "type": "timestamp",
          "required": false,
          "description": "最後に同期した日時"
        },
        {
          "name": "createdAt",
          "label": "作成日時",
          "type": "timestamp",
          "required": true,
          "autoGenerate": true
        },
        {
          "name": "updatedAt",
          "label": "更新日時",
          "type": "timestamp",
          "required": true,
          "autoGenerate": true
        }
      ]
    },
    {
      "name": "events",
      "label": "イベント",
      "fields": [
        {
          "name": "id",
          "label": "イベントID",
          "type": "string",
          "required": true,
          "primaryKey": true,
          "autoGenerate": true,
          "description": "一意の識別子（自動生成推奨）"
        },
        {
          "name": "calendarId",
          "label": "カレンダーID",
          "type": "string",
          "required": true,
          "description": "カレンダーのID",
          "foreignKey": {
            "table": "calendars",
            "field": "id"
          }
        },
        {
          "name": "title",
          "label": "イベント名",
          "type": "string",
          "required": true,
          "description": "カレンダーイベントの名前",
          "searchable": true
        },
        {
          "name": "startDateTime",
          "label": "開始日時",
          "type": "datetime",
          "required": true,
          "description": "イベントの開始日時"
        },
        {
          "name": "endDateTime",
          "label": "終了日時",
          "type": "datetime",
          "required": false,
          "description": "イベントの終了日時"
        },
        {
          "name": "location",
          "label": "場所",
          "type": "string",
          "required": false,
          "description": "イベントの場所"
        },
        {
          "name": "participants",
          "label": "参加者",
          "type": "text",
          "required": false,
          "description": "イベントの参加者（カンマ区切り）"
        },
        {
          "name": "description",
          "label": "説明",
          "type": "text",
          "required": false,
          "description": "イベントの詳細説明"
        },
        {
          "name": "isAllDay",
          "label": "終日",
          "type": "boolean",
          "required": true,
          "description": "終日イベントかどうか",
          "defaultValue": false
        },
        {
          "name": "googleEventId",
          "label": "GoogleイベントID",
          "type": "string",
          "required": false,
          "description": "GoogleカレンダーのイベントID（連携時）"
        },
        {
          "name": "createdAt",
          "label": "作成日時",
          "type": "timestamp",
          "required": true,
          "autoGenerate": true
        },
        {
          "name": "updatedAt",
          "label": "更新日時",
          "type": "timestamp",
          "required": true,
          "autoGenerate": true
        }
      ]
    }
  ],
  "relationships": [
    {
      "from": {
        "table": "calendar_groups",
        "field": "id"
      },
      "to": {
        "table": "calendars",
        "field": "groupId"
      },
      "type": "one-to-many",
      "description": "1つのグループに対して複数のカレンダーが存在"
    },
    {
      "from": {
        "table": "calendars",
        "field": "id"
      },
      "to": {
        "table": "events",
        "field": "calendarId"
      },
      "type": "one-to-many",
      "description": "1つのカレンダーに対して複数のイベントが存在"
    }
  ]
}
